# Qi-API

## é¡¹ç›®ç®€ä»‹

ã€ŒQi-APIã€æ˜¯ä¸€æ¬¾é«˜æ•ˆã€å¯é å’Œå®‰å…¨çš„æ¥å£å¼€æ”¾å¹³å°ï¼Œä¸ºå¹¿å¤§ç”¨æˆ·æä¾›é«˜è´¨é‡ã€å¯é ã€å®‰å…¨çš„æ¥å£æœåŠ¡ï¼Œå¸®åŠ©ç”¨æˆ·è½»æ¾å®ç°å„ç§åŠŸèƒ½å’Œæ•°æ®äº¤äº’ï¼Œæé«˜å·¥ä½œæ•ˆç‡å’Œç”¨æˆ·ä½“éªŒã€‚

æœ¬é¡¹ç›®ä¸º**å‰åç«¯åˆ†ç¦»é¡¹ç›®**ï¼Œå‰ç«¯ä¸»è¦é‡‡ç”¨TypeScriptã€Reactã€Ant Design Proç­‰ä¸»æµå¼€å‘æ¡†æ¶ã€‚åç«¯é‡‡ç”¨Spring Cloud SpringBoot
ä½œä¸ºä¸šåŠ¡æ¡†æ¶ã€‚é€šè¿‡Spring Cloud Gatewayä½œä¸ºå…¨å±€ç½‘å…³è¿›è¡Œè·¯ç”±ç®¡ç†ã€æµé‡æŸ“è‰²å’Œè´Ÿè½½å‡è¡¡ï¼Œå¹¶é€šè¿‡å…¨é“¾è·¯æ—¥å¿—ä»¥åŠWebFluxå›è°ƒé…ç½®, æ”¯æŒ
**å¼‚æ­¥æ¥å£è°ƒç”¨** ã€‚ä½¿ç”¨Mybatis-plusä½œä¸ºæŒä¹…å±‚æŠ€æœ¯ã€‚ä½¿ç”¨Apache Dubboåšé«˜æ€§èƒ½**è¿œç¨‹æœåŠ¡è°ƒç”¨**
ã€‚ä½¿ç”¨Nacosä½œä¸ºæ³¨å†Œä¸­å¿ƒï¼Œå®ŒæˆæœåŠ¡æ³¨å†Œä¸å‘ç°ï¼Œé€šè¿‡å„æ¨¡å—ä¸»è¦åŠŸèƒ½ä»¥åŠä¸šåŠ¡è¿›è¡Œæ¨¡å—çš„åˆç†åˆ’åˆ†ã€‚ä½¿ç”¨ Sentinel è¿›è¡Œ**æ¥å£æµé‡ç®¡ç†
**ï¼Œé€šè¿‡é™æµç­–ç•¥æœ‰æ•ˆä¿éšœæœåŠ¡çš„ç¨³å®šæ€§ä¸å®‰å…¨æ€§ã€‚åŒæ—¶ä½¿ç”¨ RocketMQ å¯¹æ¶‰åŠç¬¬ä¸‰æ–¹å›è°ƒæ¥å£çš„ä¸šåŠ¡è¿›è¡Œ **å¼‚æ­¥é€šçŸ¥**ï¼Œå®ç°æœåŠ¡é“¾è·¯è§£è€¦ã€‚

é¡¹ç›®å®¢æˆ·ç«¯ä¾èµ–ã€Œ**qiapi-clientSDK-spring-boot-starter**ã€å·²ä¸Šä¼ è‡³Maven Central
Repositoryï¼Œç”¨æˆ·å¯ä»¥é€‰æ‹©åœ¨æ¥å£å¹³å°åœ¨çº¿è°ƒç”¨æˆ–è€…åœ¨é¡¹ç›®ä¸­å¼•å…¥ä¾èµ–å¹¶ä¼ å…¥accessKeyã€secretKeyè¿›è¡ŒAPIè°ƒç”¨ã€‚

> åœ¨çº¿ä½“éªŒåœ°å€ï¼š[Qi-API](https://www.rickey-qiapi.cn/)
>
>é¡¹ç›®å‰ç«¯å¼€æºåœ°å€ï¼š[Qi-API-frontend](https://github.com/rickey-c/qiapi-frontend)

## é¡¹ç›®èƒŒæ™¯

æˆ‘çš„åˆè¡·æ˜¯å°½å¯èƒ½å¸®åŠ©å’ŒæœåŠ¡æ›´å¤šçš„ç”¨æˆ·å’Œå¼€å‘è€…ï¼Œè®©ä»–ä»¬æ›´åŠ æ–¹ä¾¿å¿«æ·çš„è·å–ä»–ä»¬æƒ³è¦çš„ä¿¡æ¯å’ŒåŠŸèƒ½ã€‚æ¥å£å¹³å°å¯ä»¥å¸®åŠ©å¼€å‘è€…å¿«é€Ÿæ¥å…¥ä¸€äº›å¸¸ç”¨çš„æœåŠ¡ï¼Œä»è€Œæé«˜ä»–ä»¬çš„å¼€å‘æ•ˆç‡ï¼Œæ¯”å¦‚éšæœºå¤´åƒï¼Œéšæœºå£çº¸ï¼ŒéšæœºåŠ¨æ¼«å›¾ç‰‡(
äºŒæ¬¡å…ƒçˆ±å¥½è€…ä¸“ç”¨)ã€å®æ—¶å¤©æ°”ç­‰æœåŠ¡ï¼Œä»–ä»¬æ˜¯ä¸€äº›åº”ç”¨æˆ–è€…å°ç¨‹åºå¸¸è§çš„åŠŸèƒ½ï¼Œæ‰€ä»¥æä¾›è¿™äº›æ¥å£å¯ä»¥å¸®åŠ©å¼€å‘è€…æ›´åŠ æ–¹ä¾¿åœ°å®ç°è¿™äº›åŠŸèƒ½ã€‚è¿™äº›æ¥å£ä¹Ÿå¯ä»¥è®©ç”¨æˆ·åœ¨ä½¿ç”¨åº”ç”¨æ—¶è·å¾—æ›´åŠ å…¨é¢çš„åŠŸèƒ½å’ŒæœåŠ¡ï¼Œä»è€Œæé«˜ä»–ä»¬çš„ç”¨æˆ·ä½“éªŒã€‚

## ç³»ç»Ÿæ¶æ„

![image](https://github.com/rickey-c/qiapi-backend/blob/master/qiapi-doc/Architecture%20Diagram/Qi-API-Architecture%20Diagram.png)

## æŠ€æœ¯æ ˆ

### å‰ç«¯æŠ€æœ¯æ ˆ

+ å¼€å‘æ¡†æ¶ï¼šReactã€Umi
+ è„šæ‰‹æ¶ï¼šAnt Design Pro
+ ç»„ä»¶åº“ï¼šAnt Designã€Ant Design Components
+ è¯­æ³•æ‰©å±•ï¼šTypeScriptã€Less
+ æ‰“åŒ…å·¥å…·ï¼šWebpack
+ ä»£ç è§„èŒƒï¼šESLintã€StyleLintã€Prettier

### åç«¯æŠ€æœ¯æ ˆ

+ ä¸»è¯­è¨€ï¼šJava
+ æ¡†æ¶ï¼šSpringBoot 2.7.0ã€Mybatis-plusã€Spring Cloud
+ æ•°æ®åº“ï¼šMysql8.0
+ ä¸­é—´ä»¶ï¼šRocketMQã€Redis
+ æ³¨å†Œä¸­å¿ƒï¼šNacos
+ æœåŠ¡é™æµï¼šSentinel
+ æœåŠ¡è°ƒç”¨ï¼šDubbo
+ ç½‘å…³ï¼šSpring Cloud Gateway
+ è´Ÿè½½å‡è¡¡ï¼šSpring cloud Loadbalancer

## é¡¹ç›®æ¨¡å—

+ qiapi-frontend ï¼šä¸ºé¡¹ç›®å‰ç«¯ï¼Œå‰ç«¯é¡¹ç›®å¯åŠ¨å…·ä½“çœ‹å‰ç«¯ä»“åº“çš„README.mdæ–‡æ¡£
+ qiapi-common ï¼šä¸ºå…¬å…±å°è£…ç±»ï¼ˆå¦‚å…¬å…±å®ä½“ã€å…¬å…±å¸¸é‡ï¼Œç»Ÿä¸€å“åº”å®ä½“ï¼Œç»Ÿä¸€å¼‚å¸¸å¤„ç†ï¼‰
+ qiapi-backend ï¼šä¸ºæ¥å£ç®¡ç†å¹³å°ï¼Œä¸»è¦åŒ…æ‹¬ç”¨æˆ·ã€æ¥å£ç›¸å…³çš„åŠŸèƒ½
+ qiapi-gateway ï¼šä¸ºç½‘å…³æœåŠ¡ï¼Œæ¶‰åŠåˆ°ç»Ÿä¸€é‰´æƒï¼Œæµé‡æŸ“è‰²ï¼Œç»Ÿä¸€æ—¥å¿—å¤„ç†ï¼Œæ¥å£ç»Ÿè®¡ï¼Œæ¥å£æ•°æ®ä¸€è‡´æ€§å¤„ç†ã€ç”¨æˆ·æµæ§
+ qiapi-order ï¼šä¸ºè®¢å•æœåŠ¡ï¼Œä¸»è¦æ¶‰åŠåˆ°æ¥å£çš„è´­ä¹°ç­‰
+ qiapi-third-partyï¼šä¸ºç¬¬ä¸‰æ–¹æœåŠ¡ï¼Œä¸»è¦æ¶‰åŠåˆ°è…¾è®¯äº‘çŸ­ä¿¡ã€æ”¯ä»˜å®æ²™ç®±æ”¯ä»˜åŠŸèƒ½
+ qiapi-interfaceï¼šä¸ºæ¥å£æœåŠ¡ï¼Œæä¾›å¯ä¾›è°ƒç”¨çš„æ¥å£
+ qiapi-sdkï¼šæä¾›ç»™å¼€å‘è€…çš„SDK

## åŠŸèƒ½æ¨¡å—

> ğŸŒŸ äº®ç‚¹åŠŸèƒ½ ğŸš€ æœªæ¥è®¡åˆ’

+ ç”¨æˆ·ã€ç®¡ç†å‘˜
  + ğŸŒŸç™»å½•æ³¨å†Œï¼šä½¿ç”¨ä»¤ç‰Œæ¡¶ç®—æ³•å®ç°ç¬¬ä¸‰æ–¹æ¥å£(é‚®ç®±)çš„é™æµï¼Œä¿æŠ¤ä¸‹æ¸¸æœåŠ¡
  + ğŸŒŸç™»å½•ï¼šä½¿ç”¨Rediså®ç°åˆ†å¸ƒå¼Sessionï¼Œå®ç°äº†å•ç‚¹ç™»å½•(SSO)
  + ä¸ªäººä¸»é¡µï¼ŒåŒ…æ‹¬ä¸Šä¼ å¤´åƒï¼Œæ˜¾ç¤ºå¯†é’¥ï¼Œé‡æ–°ç”Ÿæˆak,sk
  + ç®¡ç†å‘˜ï¼šç”¨æˆ·ç®¡ç†
  + ç®¡ç†å‘˜ï¼šæ¥å£ç®¡ç†
  + ç®¡ç†å‘˜ï¼šæ¥å£åˆ†æï¼ˆå®šæ—¶ä»»åŠ¡ï¼‰
+ æ¥å£
  + æµè§ˆæ¥å£ä¿¡æ¯
  + ğŸŒŸ æ•°å­—ç­¾åæ ¡éªŒæ¥å£è°ƒç”¨æƒé™
  + ğŸŒŸ SDKè°ƒç”¨æ¥å£
  + ğŸŒŸ æ¥å£æµæ§
  + æ¥å£æœç´¢ (ğŸš€ )
  + è´­ä¹°æ¥å£
  + ä¸‹è½½SDK
  + ç”¨æˆ·ä¸Šä¼ è‡ªå·±çš„æ¥å£ï¼ˆğŸš€ï¼‰
+ ç½‘å…³
  + ğŸŒŸ å®ç°ç»Ÿä¸€é‰´æƒã€è¯·æ±‚è½¬å‘å’Œæµé‡æŸ“è‰²
  + ä½¿ç”¨ Nacos ä½œä¸ºæœåŠ¡æ³¨å†Œä¸é…ç½®ä¸­å¿ƒï¼Œè¿›è¡ŒæœåŠ¡å®ä¾‹çš„è´Ÿè½½å‡è¡¡å’ŒåŠ¨æ€é…ç½®
  + ğŸŒŸé…åˆ Sentinel å®ç°ç»†ç²’åº¦çš„ç”¨æˆ·æµæ§
  + åŸºäº WebFlux å¼‚æ­¥è·å–æ¥å£è°ƒç”¨ç»“æœï¼Œæå‡ç³»ç»Ÿå“åº”æ•ˆç‡
  + ç»Ÿä¸€é…ç½®è·¨åŸŸèµ„æºå…±äº«ï¼ˆCORSï¼‰å¤„ç†

+ è®¢å•
  + åˆ›å»ºè®¢å•
  + è®¢å•è¶…æ—¶å›æ»š
  + æ”¯ä»˜å®æ²™ç®±æ”¯ä»˜
  + ğŸŒŸåˆ©ç”¨RocketMQå¼‚æ­¥é€šçŸ¥ï¼ŒæœåŠ¡è§£è€¦

## è°ƒç”¨ç¤ºä¾‹

1. å¼•å…¥Mavenåæ ‡

```pom
  <dependencies>
    <dependency>
      <groupId>io.github.rickey-c</groupId>
      <artifactId>qiapi-clientSDK-spring-boot-starter</artifactId>
      <version>0.0.2</version>
    </dependency>
  </dependencies>
```

2. åˆ›å»ºå®¢æˆ·ç«¯ï¼Œä½¿ç”¨accessKeyã€secretKeyè¿›è¡Œè°ƒç”¨

```java
public class QiAPIClientSDKTest {

  private static final Logger log = LoggerFactory.getLogger(QiAPIClientSDKTest.class);

  public static void main(String[] args) {
    String accessKey = "yourAccessKey";
    String secretKey = "yourSecretKey";
    RandomApiClient randomApiClient = new RandomApiClient(accessKey, secretKey);
    String randomEncouragement = randomApiClient.getRandomEncouragement();
    log.info("æ¥å£è°ƒç”¨æˆåŠŸ! \nrandomEncouragement = {}", randomEncouragement);
  }
}
```

3. è°ƒç”¨æ¥å£ï¼Œè§‚å¯Ÿå“åº”æ—¥å¿—

```java
19:25:23.060[main]
INFO com.rickey.sdktest.QiAPIClientSDKTest -æ¥å£è°ƒç”¨æˆåŠŸ!
randomEncouragement =å¿ƒçµé¸¡æ±¤ä¸º:æ¯ä¸€ä¸ªä¸æ›¾èµ·èˆçš„æ—¥å­ï¼Œéƒ½æ˜¯å¯¹ç”Ÿå‘½çš„è¾œè´Ÿï¼
```

